{"remainingRequest":"C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\babel-loader\\lib\\index.js??ref--4-oneOf-1-1!C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\rc-menu\\es\\DOMWrap.js","dependencies":[{"path":"C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\rc-menu\\es\\DOMWrap.js","mtime":1546413209000},{"path":"C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport SubMenu from './SubMenu';\nimport { getWidth, setStyle, menuAllProps } from './util';\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed';\nvar FLOAT_PRECISION_ADJUST = 0.5; // Fix ssr\n\nif (canUseDOM) {\n  require('mutationobserver-shim');\n}\n\nvar DOMWrap = function (_React$Component) {\n  _inherits(DOMWrap, _React$Component);\n\n  function DOMWrap() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DOMWrap);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      lastVisibleIndex: undefined\n    }, _this.getMenuItemNodes = function () {\n      var prefixCls = _this.props.prefixCls;\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return [];\n      } // filter out all overflowed indicator placeholder\n\n\n      return [].slice.call(ul.children).filter(function (node) {\n        return node.className.split(' ').indexOf(prefixCls + '-overflowed-submenu') < 0;\n      });\n    }, _this.getOverflowedSubMenuItem = function (keyPrefix, overflowedItems, renderPlaceholder) {\n      var _this$props = _this.props,\n          overflowedIndicator = _this$props.overflowedIndicator,\n          level = _this$props.level,\n          mode = _this$props.mode,\n          prefixCls = _this$props.prefixCls,\n          theme = _this$props.theme,\n          propStyle = _this$props.style;\n\n      if (level !== 1 || mode !== 'horizontal') {\n        return null;\n      } // put all the overflowed item inside a submenu\n      // with a title of overflow indicator ('...')\n\n\n      var copy = _this.props.children[0];\n\n      var _copy$props = copy.props,\n          throwAway = _copy$props.children,\n          title = _copy$props.title,\n          eventKey = _copy$props.eventKey,\n          rest = _objectWithoutProperties(_copy$props, ['children', 'title', 'eventKey']);\n\n      var style = _extends({}, propStyle);\n\n      var key = keyPrefix + '-overflowed-indicator';\n\n      if (overflowedItems.length === 0 && renderPlaceholder !== true) {\n        style = _extends({}, style, {\n          display: 'none'\n        });\n      } else if (renderPlaceholder) {\n        style = _extends({}, style, {\n          visibility: 'hidden',\n          // prevent from taking normal dom space\n          position: 'absolute'\n        });\n        key = key + '-placeholder';\n      }\n\n      var popupClassName = theme ? prefixCls + '-' + theme : '';\n      var props = {};\n      menuAllProps.forEach(function (k) {\n        if (rest[k] !== undefined) {\n          props[k] = rest[k];\n        }\n      });\n      return React.createElement(SubMenu, _extends({\n        title: overflowedIndicator,\n        className: prefixCls + '-overflowed-submenu',\n        popupClassName: popupClassName\n      }, props, {\n        key: key,\n        eventKey: keyPrefix + '-overflowed-indicator',\n        disabled: false,\n        style: style\n      }), overflowedItems);\n    }, _this.setChildrenWidthAndResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return;\n      }\n\n      var ulChildrenNodes = ul.children;\n\n      if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n        return;\n      }\n\n      var lastOverflowedIndicatorPlaceholder = ul.children[ulChildrenNodes.length - 1]; // need last overflowed indicator for calculating length;\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'inline-block');\n\n      var menuItemNodes = _this.getMenuItemNodes(); // reset display attribute for all hidden elements caused by overflow to calculate updated width\n      // and then reset to original state after width calculation\n\n\n      var overflowedItems = menuItemNodes.filter(function (c) {\n        return c.className.split(' ').indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0;\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'inline-block');\n      });\n      _this.menuItemSizes = menuItemNodes.map(function (c) {\n        return getWidth(c);\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'none');\n      });\n      _this.overflowedIndicatorWidth = getWidth(ul.children[ul.children.length - 1]);\n      _this.originalTotalWidth = _this.menuItemSizes.reduce(function (acc, cur) {\n        return acc + cur;\n      }, 0);\n\n      _this.handleResize(); // prevent the overflowed indicator from taking space;\n\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none');\n    }, _this.resizeObserver = null, _this.mutationObserver = null, _this.originalTotalWidth = 0, _this.overflowedItems = [], _this.menuItemSizes = [], _this.handleResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return;\n      }\n\n      var width = getWidth(ul);\n      _this.overflowedItems = [];\n      var currentSumWidth = 0; // index for last visible child in horizontal mode\n\n      var lastVisibleIndex = undefined; // float number comparison could be problematic\n      // e.g. 0.1 + 0.2 > 0.3 =====> true\n      // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n\n      if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n        lastVisibleIndex = -1;\n\n        _this.menuItemSizes.forEach(function (liWidth) {\n          currentSumWidth += liWidth;\n\n          if (currentSumWidth + _this.overflowedIndicatorWidth <= width) {\n            lastVisibleIndex++;\n          }\n        });\n      }\n\n      _this.setState({\n        lastVisibleIndex: lastVisibleIndex\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  DOMWrap.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.setChildrenWidthAndResize();\n\n    if (this.props.level === 1 && this.props.mode === 'horizontal') {\n      var menuUl = ReactDOM.findDOMNode(this);\n\n      if (!menuUl) {\n        return;\n      }\n\n      this.resizeObserver = new ResizeObserver(function (entries) {\n        entries.forEach(_this2.setChildrenWidthAndResize);\n      });\n      [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n        _this2.resizeObserver.observe(el);\n      });\n\n      if (typeof MutationObserver !== 'undefined') {\n        this.mutationObserver = new MutationObserver(function () {\n          _this2.resizeObserver.disconnect();\n\n          [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n            _this2.resizeObserver.observe(el);\n          });\n\n          _this2.setChildrenWidthAndResize();\n        });\n        this.mutationObserver.observe(menuUl, {\n          attributes: false,\n          childList: true,\n          subTree: false\n        });\n      }\n    }\n  };\n\n  DOMWrap.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n\n    if (this.mutationObserver) {\n      this.resizeObserver.disconnect();\n    }\n  }; // get all valid menuItem nodes\n  // memorize rendered menuSize\n  // original scroll size of the list\n  // copy of overflowed items\n  // cache item of the original items (so we can track the size and order)\n\n\n  DOMWrap.prototype.renderChildren = function renderChildren(children) {\n    var _this3 = this; // need to take care of overflowed items in horizontal mode\n\n\n    var lastVisibleIndex = this.state.lastVisibleIndex;\n    return (children || []).reduce(function (acc, childNode, index) {\n      var item = childNode;\n\n      if (_this3.props.mode === 'horizontal') {\n        var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n\n        if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(_this3.props.prefixCls + '-root') !== -1) {\n          if (index > lastVisibleIndex) {\n            item = React.cloneElement(childNode, // 这里修改 eventKey 是为了防止隐藏状态下还会触发 openkeys 事件\n            {\n              style: {\n                display: 'none'\n              },\n              eventKey: childNode.props.eventKey + '-hidden',\n              className: childNode.className + ' ' + MENUITEM_OVERFLOWED_CLASSNAME\n            });\n          }\n\n          if (index === lastVisibleIndex + 1) {\n            _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n              return React.cloneElement(c, // children[index].key will become '.$key' in clone by default,\n              // we have to overwrite with the correct key explicitly\n              {\n                key: c.props.eventKey,\n                mode: 'vertical-left'\n              });\n            });\n            overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n          }\n        }\n\n        var ret = [].concat(acc, [overflowed, item]);\n\n        if (index === children.length - 1) {\n          // need a placeholder for calculating overflowed indicator width\n          ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n        }\n\n        return ret;\n      }\n\n      return [].concat(acc, [item]);\n    }, []);\n  };\n\n  DOMWrap.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        overflowedIndicator = _props.overflowedIndicator,\n        mode = _props.mode,\n        level = _props.level,\n        Tag = _props.tag,\n        children = _props.children,\n        theme = _props.theme,\n        rest = _objectWithoutProperties(_props, ['hiddenClassName', 'visible', 'prefixCls', 'overflowedIndicator', 'mode', 'level', 'tag', 'children', 'theme']);\n\n    if (!visible) {\n      rest.className += ' ' + hiddenClassName;\n    }\n\n    return React.createElement(Tag, rest, this.renderChildren(this.props.children));\n  };\n\n  return DOMWrap;\n}(React.Component);\n\nDOMWrap.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  prefixCls: PropTypes.string,\n  level: PropTypes.number,\n  theme: PropTypes.string,\n  overflowedIndicator: PropTypes.node,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object\n};\nDOMWrap.defaultProps = {\n  tag: 'div',\n  className: ''\n};\nexport default DOMWrap;",{"version":3,"sources":["C:\\Users\\liuli\\source\\repos\\github\\WalkingTec.Mvvm\\WebApplication2\\ClientApp\\node_modules\\rc-menu\\es\\DOMWrap.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","React","ReactDOM","PropTypes","ResizeObserver","SubMenu","getWidth","setStyle","menuAllProps","canUseDOM","window","document","createElement","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","require","DOMWrap","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","lastVisibleIndex","undefined","getMenuItemNodes","prefixCls","props","ul","findDOMNode","slice","children","filter","node","className","split","indexOf","getOverflowedSubMenuItem","keyPrefix","overflowedItems","renderPlaceholder","_this$props","overflowedIndicator","level","mode","theme","propStyle","style","copy","_copy$props","throwAway","title","eventKey","rest","key","display","visibility","position","popupClassName","forEach","k","disabled","setChildrenWidthAndResize","ulChildrenNodes","lastOverflowedIndicatorPlaceholder","menuItemNodes","c","menuItemSizes","map","overflowedIndicatorWidth","originalTotalWidth","reduce","acc","cur","handleResize","resizeObserver","mutationObserver","width","currentSumWidth","liWidth","setState","prototype","componentDidMount","_this2","menuUl","entries","el","observe","MutationObserver","disconnect","attributes","childList","subTree","componentWillUnmount","renderChildren","_this3","childNode","index","item","overflowed","cloneElement","ret","push","render","_props","hiddenClassName","visible","Tag","tag","Component","propTypes","string","oneOf","number","bool","object","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport SubMenu from './SubMenu';\nimport { getWidth, setStyle, menuAllProps } from './util';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed';\nvar FLOAT_PRECISION_ADJUST = 0.5;\n\n// Fix ssr\nif (canUseDOM) {\n  require('mutationobserver-shim');\n}\n\nvar DOMWrap = function (_React$Component) {\n  _inherits(DOMWrap, _React$Component);\n\n  function DOMWrap() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DOMWrap);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      lastVisibleIndex: undefined\n    }, _this.getMenuItemNodes = function () {\n      var prefixCls = _this.props.prefixCls;\n\n      var ul = ReactDOM.findDOMNode(_this);\n      if (!ul) {\n        return [];\n      }\n\n      // filter out all overflowed indicator placeholder\n      return [].slice.call(ul.children).filter(function (node) {\n        return node.className.split(' ').indexOf(prefixCls + '-overflowed-submenu') < 0;\n      });\n    }, _this.getOverflowedSubMenuItem = function (keyPrefix, overflowedItems, renderPlaceholder) {\n      var _this$props = _this.props,\n          overflowedIndicator = _this$props.overflowedIndicator,\n          level = _this$props.level,\n          mode = _this$props.mode,\n          prefixCls = _this$props.prefixCls,\n          theme = _this$props.theme,\n          propStyle = _this$props.style;\n\n      if (level !== 1 || mode !== 'horizontal') {\n        return null;\n      }\n      // put all the overflowed item inside a submenu\n      // with a title of overflow indicator ('...')\n      var copy = _this.props.children[0];\n\n      var _copy$props = copy.props,\n          throwAway = _copy$props.children,\n          title = _copy$props.title,\n          eventKey = _copy$props.eventKey,\n          rest = _objectWithoutProperties(_copy$props, ['children', 'title', 'eventKey']);\n\n      var style = _extends({}, propStyle);\n      var key = keyPrefix + '-overflowed-indicator';\n\n      if (overflowedItems.length === 0 && renderPlaceholder !== true) {\n        style = _extends({}, style, {\n          display: 'none'\n        });\n      } else if (renderPlaceholder) {\n        style = _extends({}, style, {\n          visibility: 'hidden',\n          // prevent from taking normal dom space\n          position: 'absolute'\n        });\n        key = key + '-placeholder';\n      }\n\n      var popupClassName = theme ? prefixCls + '-' + theme : '';\n      var props = {};\n      menuAllProps.forEach(function (k) {\n        if (rest[k] !== undefined) {\n          props[k] = rest[k];\n        }\n      });\n\n      return React.createElement(\n        SubMenu,\n        _extends({\n          title: overflowedIndicator,\n          className: prefixCls + '-overflowed-submenu',\n          popupClassName: popupClassName\n        }, props, {\n          key: key,\n          eventKey: keyPrefix + '-overflowed-indicator',\n          disabled: false,\n          style: style\n        }),\n        overflowedItems\n      );\n    }, _this.setChildrenWidthAndResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return;\n      }\n\n      var ulChildrenNodes = ul.children;\n\n      if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n        return;\n      }\n\n      var lastOverflowedIndicatorPlaceholder = ul.children[ulChildrenNodes.length - 1];\n\n      // need last overflowed indicator for calculating length;\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'inline-block');\n\n      var menuItemNodes = _this.getMenuItemNodes();\n\n      // reset display attribute for all hidden elements caused by overflow to calculate updated width\n      // and then reset to original state after width calculation\n\n      var overflowedItems = menuItemNodes.filter(function (c) {\n        return c.className.split(' ').indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0;\n      });\n\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'inline-block');\n      });\n\n      _this.menuItemSizes = menuItemNodes.map(function (c) {\n        return getWidth(c);\n      });\n\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'none');\n      });\n      _this.overflowedIndicatorWidth = getWidth(ul.children[ul.children.length - 1]);\n      _this.originalTotalWidth = _this.menuItemSizes.reduce(function (acc, cur) {\n        return acc + cur;\n      }, 0);\n      _this.handleResize();\n      // prevent the overflowed indicator from taking space;\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none');\n    }, _this.resizeObserver = null, _this.mutationObserver = null, _this.originalTotalWidth = 0, _this.overflowedItems = [], _this.menuItemSizes = [], _this.handleResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_this);\n      if (!ul) {\n        return;\n      }\n      var width = getWidth(ul);\n\n      _this.overflowedItems = [];\n      var currentSumWidth = 0;\n\n      // index for last visible child in horizontal mode\n      var lastVisibleIndex = undefined;\n\n      // float number comparison could be problematic\n      // e.g. 0.1 + 0.2 > 0.3 =====> true\n      // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n      if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n        lastVisibleIndex = -1;\n\n        _this.menuItemSizes.forEach(function (liWidth) {\n          currentSumWidth += liWidth;\n          if (currentSumWidth + _this.overflowedIndicatorWidth <= width) {\n            lastVisibleIndex++;\n          }\n        });\n      }\n\n      _this.setState({ lastVisibleIndex: lastVisibleIndex });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  DOMWrap.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.setChildrenWidthAndResize();\n    if (this.props.level === 1 && this.props.mode === 'horizontal') {\n      var menuUl = ReactDOM.findDOMNode(this);\n      if (!menuUl) {\n        return;\n      }\n      this.resizeObserver = new ResizeObserver(function (entries) {\n        entries.forEach(_this2.setChildrenWidthAndResize);\n      });\n\n      [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n        _this2.resizeObserver.observe(el);\n      });\n\n      if (typeof MutationObserver !== 'undefined') {\n        this.mutationObserver = new MutationObserver(function () {\n          _this2.resizeObserver.disconnect();\n          [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n            _this2.resizeObserver.observe(el);\n          });\n          _this2.setChildrenWidthAndResize();\n        });\n        this.mutationObserver.observe(menuUl, { attributes: false, childList: true, subTree: false });\n      }\n    }\n  };\n\n  DOMWrap.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n    if (this.mutationObserver) {\n      this.resizeObserver.disconnect();\n    }\n  };\n\n  // get all valid menuItem nodes\n\n\n  // memorize rendered menuSize\n\n\n  // original scroll size of the list\n\n\n  // copy of overflowed items\n\n\n  // cache item of the original items (so we can track the size and order)\n\n\n  DOMWrap.prototype.renderChildren = function renderChildren(children) {\n    var _this3 = this;\n\n    // need to take care of overflowed items in horizontal mode\n    var lastVisibleIndex = this.state.lastVisibleIndex;\n\n    return (children || []).reduce(function (acc, childNode, index) {\n      var item = childNode;\n      if (_this3.props.mode === 'horizontal') {\n        var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n        if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(_this3.props.prefixCls + '-root') !== -1) {\n          if (index > lastVisibleIndex) {\n            item = React.cloneElement(childNode,\n            // 这里修改 eventKey 是为了防止隐藏状态下还会触发 openkeys 事件\n            {\n              style: { display: 'none' },\n              eventKey: childNode.props.eventKey + '-hidden',\n              className: childNode.className + ' ' + MENUITEM_OVERFLOWED_CLASSNAME\n            });\n          }\n          if (index === lastVisibleIndex + 1) {\n            _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n              return React.cloneElement(c,\n              // children[index].key will become '.$key' in clone by default,\n              // we have to overwrite with the correct key explicitly\n              { key: c.props.eventKey, mode: 'vertical-left' });\n            });\n\n            overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n          }\n        }\n\n        var ret = [].concat(acc, [overflowed, item]);\n\n        if (index === children.length - 1) {\n          // need a placeholder for calculating overflowed indicator width\n          ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n        }\n        return ret;\n      }\n      return [].concat(acc, [item]);\n    }, []);\n  };\n\n  DOMWrap.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        overflowedIndicator = _props.overflowedIndicator,\n        mode = _props.mode,\n        level = _props.level,\n        Tag = _props.tag,\n        children = _props.children,\n        theme = _props.theme,\n        rest = _objectWithoutProperties(_props, ['hiddenClassName', 'visible', 'prefixCls', 'overflowedIndicator', 'mode', 'level', 'tag', 'children', 'theme']);\n\n    if (!visible) {\n      rest.className += ' ' + hiddenClassName;\n    }\n\n    return React.createElement(\n      Tag,\n      rest,\n      this.renderChildren(this.props.children)\n    );\n  };\n\n  return DOMWrap;\n}(React.Component);\n\nDOMWrap.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  prefixCls: PropTypes.string,\n  level: PropTypes.number,\n  theme: PropTypes.string,\n  overflowedIndicator: PropTypes.node,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object\n};\n\nDOMWrap.defaultProps = {\n  tag: 'div',\n  className: ''\n};\n\nexport default DOMWrap;"]}]}